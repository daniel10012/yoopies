<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fetch API</title>
</head>
<body>
      <button id="getData">GET DATA FROM LOCAL</button>
      <button id="getAPI">GET DATA FROM API </button>
      <p id="result"></p>
      <p id="demo">YPPP</p>

      <form  id="postData">
        <div>
            <input type="text" name="" id="tittle">
        </div>
        <div>
            <textarea name="" id="body" cols="20" rows="5"></textarea>
        </div>
        <input type="submit" value="SEND POST">
      </form>

<script>

        document.getElementById('getAPI').addEventListener('click', getAPI);



        // Get info from API endpoint
        function getAPI(){
            fetch('http://127.0.0.1:5000/salaries')
        .then((res) => { return res.json() })
        .then((data) => {
            let result = `<h2> Salaries info </h2>`;
            data.items.forEach((salary) => {
                const { CODGEO, LIBGEO, SNHM14} = salary
                result +=
                    `<div>
                     <h5> LIBGEO: ${LIBGEO} </h5>
                         <ul class="w3-ul">
                             <li> CODGEO : ${CODGEO}</li>
                             <li> SNHM14 : ${SNHM14} </li>
                         </ul>
                      </div>`;
                        document.getElementById('result').innerHTML = result;
                    });
                })
        }

</script>

</body>
</html>